<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>2015</title>
	<meta name="generator" content="Zim 0.65">
	<meta name="viewport" content="width=device-width">
	<!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans:300&subset=latin,greek,latin-ext' rel='stylesheet' type='text/css'> -->
	<![if !IE]>
	<!-- comment out for IE since it spams the user with warnings -->
	<script type='text/javascript' src='http://code.jquery.com/jquery-1.7.1.js'></script>
	<script type='text/javascript'>
		$(window).load(function(){$("#navigation").height( $("#content").height()+65 );});
	</script>
	<![endif]>
	<style>
		body, html {
			height:100%;
			font-family:'Open Sans', sans-serif;
			line-height:1.5em;
			font-weight:300;
			background-color:#FAFAFA;
			text-rendering:geometricPrecision;
			margin:0;
			padding:0;
		}
		.wrapper {
			height:100%;
			position:relative;
		}
		#navigation {
			background-color:#F3F3F3;
			display:inline-block;
			border-right:1px solid #EAEAEA;
			padding-right:65px;
			padding-top:65px;
			padding-left:25px;
			position:relative;
			float:left;
			min-height:100%;
		}
		#content {
			float:left;
			display:inline-block;
			position:absolute;
			max-width:960px;
			padding:65px;
		}
		#navigation ul {
			margin-top:0;
			margin-bottom:0;
			padding-left:40px;
		}
		#navigation li {
			list-style-type:none;
		}
		#navigation a {
			text-decoration:none;
			color:gray;
		}
		#navigation strong {
			color:#4E9A06;
			font-weight:400;
		}
		#navigation a:hover {
			text-decoration:underline;
		}
		#content h1:nth-child(1) {
			margin-top:0;
		}
		h1,h2,h3,h4,h5,h6 {
			color:#4E9A06;
			font-weight:300;
			margin-bottom: 0;
		}
		p {
			margin-top: 0;
		}
		#content a {
			color:#CE5C00;
		}
		#content a {
			text-decoration: none;
		}
		#content a:hover {
			text-decoration: underline;
		}
		#content a:active {
			text-decoration: underline;
		}
		#content strike {
			color: grey;
		}
		#content u {
			text-decoration: none;
			background-color: yellow;
		}
		#content tt {
			color: #2e3436;
		}
		#content pre {
			color: #2e3436;
			margin-left: 20px;
		}
		.backlinks {
			color:gray;
		}
		hr.footnotes {
			width: 20%;
			margin-left: 0;
		}
		@media print{
			#navigation{
				background-color:#FFF;
			}
		}

		span.zim-tag {
			color: #ce5c00;
		}
		div.zim-object {
			border-style:solid;
			border-width:1px;
		}

		.checked-box {list-style-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAANOgAADMQBiN+4gQAAAAd0SU1FB9gKGQ8sMEGsKGkAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAEBUlEQVRIx62V22tdRRTGf7Nn73P2ybntnNOe3NqkPTGgLTVUUZF6QatSLOKTPgqCIqLgQ0H/A1sQQbBYCBb1QfAxiC8tSO1FqHkwJVKtjdTGNraUmObsc9nXmfGh7cGYpM1D5nHWzPetteZb3wg2eB2YqYm4zSadsMtoboiNBH/3TE0awx6j+MRoxoTg/IYRvP19TQrJS0bzhdHGSyKFkLTtjSKwMjyiEz43ynhtP6bdjBCWyFobAf7eT7VhNF/q1FRbjYjmUohlCVPwnB+6FUxMTJipqSmUUhhjEGKd3bMT4ks/Y6oLBK2Yth8hHYtCJXOix7Nf7xLMzc0xOzvLzp078TyPNE3viW3QJPXzhNWbxFFKHCmMhoLn/FHodd48vGfhapdAacXQlkFK5dL6wIUm6fuTZPuvqDQhaMUYYyiVyuQr6rXDexYuAdi3tSv1ZJNs/R/CaszzT+1na88uXFnCEnJVgivBNN8uTJKmHQI/ptOOcXNZzMz9mOqFs90OHpipWcYwlo5P4ebnuOkrvr5wgrH+h3im7y36MzuwRXYZeKha/OhP0EkadFoxQSdGSotedR/+XwMc2XvKdNUFOFqZx6LKZWIiwjgkikNmLp/hm8sH+K1zjFTHXfBYdTi+eJArzXM0GxFxoBDCopLvo/fqEwi1XPkWkGqjFo2TgB1jOYZUKZTS/D1/ncmLh7jon0IbRWoiTi59ymzzJEEQE3cStNZsGxqlfPE57MBbOR8fP3hDGalOO9fq2DlBvmZw8xa2IxACGn6TydlD/O6f5OzSV/zif0cYhLQaEXGkKBbz7Ov/AOlXV1cxgBJRI3fuSTrpTawt18kWIZN1CFuaONI0w0WOXfsI43YIggh/KUSlhqxrMz74AkOZcWBm9QkH+Gw8NDLuITi+m0yzhluSyJzBLcpblUhFxywSRAEtPwQjsKVN30CNh0uvYuOubSHLtN3J0TO1j0pmBNuFbFWRK0gyPRZpktL2I5JQkclKakNlnh54g6ocvevUr/Ai2a7wineEkcJupA3S1Wg0nVZM2E6wbEF5U5G9Q++wI7sfR7h3N8HVNstykBfzH+KJEZwiWD0aIwxCgJ0R1Mu7GXOeJSuK93bZtQIle4D9pUNU5DC5jEsu55AvZakM5NicGyEj8uuz8bUCQgj67QfY671P3vEoeC69gy695U1U7NG7XV0pUwBjDJa1/JJlWWxzHuflzQe5FJ/GsgUVuZ2t8lEkTvfc0aNHb72flBhjVicQQqCUuvM3/M+WDVguWBrMVdDXEGZlBVEUrVCU9d9s5+fnaTQa2PZyPxEIhJaI1EEoZwX4ncynp6fXrmB4eJjR0VFarRbNZnP9P9rt9gohqNVq1Ov1ZbF/AZGev3hLJ2/zAAAAAElFTkSuQmCC)}
		.xchecked-box {list-style-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAANOgAADMQBiN+4gQAAAAd0SU1FB9gKGQ8bDYnDxEwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAEK0lEQVRIx9WVS2hTWRjHf/eR3CY1nbxMH2YiZRQS6qO13YlMVxY3SnVcuNIBFezGpSADLoQqLu1sHJCqdCFSXFpw4YOCSH3BtFqttTNamabX3DS5bfO6uffMoglja3RGcDMHzuac7/z/53++//cd+L8P6VuCPQYZ8ADNgBd4J31DcDcQs+GnHByRocEDv0kfBSjAOlYCs11Q+gpwDegS8LMJ+3QIK0ATzEhV8Odnz5bzw8P4dJ25aJQ/WlvJ1df/K7hSLtOcTNI+Pk69rpMTgqIQhCDvh1/VSpw79+gRrRMTmLZNezLJJsPg+a5dmOEwQlFqg1sWG16/Jv7sGWXDwBACFQjC9HcwIMONKkGp4PGAJGEDS0IQmZlhnWnye3c3eiyGo6qr3WHbrJ+dJf7gAXI6zSIr72T7/fgzmT4FHnTBsgrQBfYvTU0km5vxz86iADnAm0rRPTWFt7cXZccOJJcLAGHb2K9ekT93jmwmwwdAAFpjI6Ntbfxw5879ag7l6o1sr5eHHR3IsRgeQK/M4sQE+YEB7JcvEY6zAj45SWFgAPPxYwzHoQxIkQjTPT0kIxE+Noj8sexFn4/xnh58iQTeSpHkHAdrbIzi0BCOrmNPTpK/eJHM3bt8sCyKQCiR4NWePWSiUZw1+ZLXJm4pFKLhzBlCsRh2RUXacVgeGaF47RrL58+zcP8+RrmMkCQinZ1EL1zAjERqmkH+tLYl1G3bCJw4QUjT0IA0MJfLMX/5MqmHD0nZNiUgtGULG/r7ccXjINWuWbnmqsuFu7sb/4EDNLlcBIEioNs2KUAFGmMxmk6dQm1tRZI+3xBqEkiShBQOox05Ql1nJ26gvuIUAWiKQnj/ftStW5Fk+YuF+NldsbBA4cYN9KdPmaso8Fc62ZJtk7l1C2t0FGdxESHE1xE4hkHh6lX0oSHSpRIewC/LrPf7CSgKNpCamkI/fZr8pUuIZBIcpyaBunahPp1mub+fDyMjGKUSChCsq6Nh717q9u2jbnSU0uAgRrFIwTThyhUCqRS+hgZKLS1fJvDm87SNjZGcnsYUAjcQ8vsJ9/Xh7u1FDgRQN20iks3iDA+zZFmYhQLqzZtsj8WY3L0baY2Sf55ICCKpFHUzM2SEQAJCHg+hY8fQDh5EDgRWDoRC1J88SePRo2geD0XAcBy8b98Sv3ePYDZbbf2rFQjLIphMsmDbaEBQVQkePox26BCSz7e6i4bDrDt+nGYhmBscpFAskheC4Js3bPR4qHphFYEnlcI7P4/jdqNpGu8TCe4oCsXr1z//F2ga3+/cSfTJE0qmSVYIsKzaOZDcbjKyzFIiwfvt21kMBLA07YsetzWNd+3tLLW0sH5igvT8PH9Go/z44kX+E4LGjg7GDYOcy4XlOEgLC//5P/5LCFzxOPLmzWyIx+m6fduu7v0NVGqyTSycKksAAAAASUVORK5CYII=)}
		.unchecked-box {list-style-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAANOgAADMQBiN+4gQAAAAd0SU1FB9gKGQ8qAt8h3m8AAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAA60lEQVRIx+2VsQqDMBRF70sCLg5OLoKgjk7+lJ/hh+STXBwcnRz8ArMEkrxOFktbaC3tULzTg5e8k5vADXDq70VbobXmvu/hvQczg4heHrJfXxQFuq67blZbMc8zpmlCXddIkgTOuZcBUko45zCOI6y1Nz2xFSEEZFmGOI7fGg4A3nsQEZqmuXOu9jallACAtm3fvmutNaIoAjM/dkBECCF89KCbk4eAb+kEnIAT8EsAM0OIz3hSyrssUvss8t5fg+uIrLXPs0gIgWVZYIyBUurQyYdheO4gz3NUVQVjDNZ1PfSjpWmKsixvehfB9GBZ3NndrgAAAABJRU5ErkJggg==)}
		ul {list-style-image: none}
		/* ul rule needed to reset style for sub-bullets */

	</style>
</head>

<body>
	<div class="wrapper">
		<div id="navigation"> <ul>
<li><a href="../Exams.html" title="Exams" class="page">Exams</a>
<ul>
<li><a href="./2014.html" title="2014" class="page">2014</a></li>
<li><b>2015</b></li>
</ul>
</li>
<li><a href="../Home.html" title="Home" class="page">Home</a></li>
<li><a href="../Lectures.html" title="Lectures" class="page">Lectures</a></li>
<li><a href="../Practicals.html" title="Practicals" class="page">Practicals</a></li>
</ul>
 </div>
		<div id="content">
			<h1>2015 <a name='Exams:2015'></a></h1>

			<p>
Created Wed Nov 30 2016
</p>

<br>

<p>
Note: There are tables in the exam file. 
</p>

<h2>1) Answer all the items within this question.</h2>

<br>

<h3>(a) In the context of relational databases,</h3>

<br>

<h4>i) 'A database can be defined as a shared collection of logically related data and its metadata'. Explain what is meant by metadata in this definition. (2)</h4>

<p>
<div style='padding-left: 30pt'>
Metadata is the datatypes types of the fields for example timestamp for dob field. Also indexes are metadata
</div>
</p>

<br>

<h4>ii) Explain why you think the ‘Employee’ table does or does not exhibit referential integrity. (2)</h4>

<p>
<div style='padding-left: 30pt'>
It does exhibit referential integrity because all foreign keys which are not null are the number of a primary key which already exists
</div>
</p>

<br>

<h4>iii) What is the result of executing the following statement?</h4>

<br>

<p>
INSERT INTO Employee VALUES(JF22222, Joanne, Flecher,12 James Road Inverness, F); (2)
</p>

<p>
Inserts  a new record into the Employee table with these values: JF22222, Joanne, Flecher,12 James Road Inverness, F
</p>

<h3>(b)</h3>

<br>

<h4>i) Define what third normal form (3NF) is. (1)</h4>

<p>
<div style='padding-left: 30pt'>
A relation that is in 1NF and 2NF and in which no non-primary-key attribute is transitively dependent on the primary key.
</div>
</p>

<br>

<h4>ii) Explain why the ‘Dependent’ table is in third normal form. (Assume that Dependent table has NIno, Dependent_Fname and RelationShip as primary keys) (2)</h4>

<p>
<div style='padding-left: 30pt'>
For it to be in 3NF it needs to be in both 1NF and 2NF <br>
it is in 1NF because everything is atomic<br>
it is in 2NF because every non-primary key value is functionaly dependant on the primary key<br>
And finally no non-primary-key attribute is transitively dependent on the primary key.
</div>
</p>

<br>

<h4>iii) A friend of yours after critically examining the above database makes the comment: “The Plocation attribute in Project table should be removed because the Plocation information can be determined by the Dno foreign key.” Write your response to this comment. (2)</h4>

<p>
<div style='padding-left: 30pt'>
He is correct because the way the DB is now creates redundant data. So by removing the Plocation there would be no redundent data.
</div>
</p>

<br>

<h3>(c) At the logical (relational) level, the relational database for a company with several departments located in different cities shown above is composed of six tables: department, dept_location, project, employee, dependent and works_on (each with some associated records). Using UML notation, draw an enhanced entity-relationship diagram (EER) that represents the same database structure at the conceptual level. For each entity, show its minimum and maximum participatory constraints in the relationship and explain your choice of values. (6)</h3>

<p>
<div style='padding-left: 30pt'>
This is just a diagram like part 1 of assignment 2.
</div>
</p>

<br>
<br>

<h3>(d) It has been decided to extend the relational database for the company shown above to store information about the different projects that employees have worked on in the past and monthly salary payments paid to employees. A past project has a Project Number, Name, Location, Project Completed, Date Completed and a link to employees who worked on the project. The monthly salary payment information for each employee is to be extended to include a NIno, Monthly Salary and Date paid. Assume the above description is the only information available to you about past projects of the company. Also assume that you have access to the details (EER design and data dictionary) of the existing database which is shown above. You are allowed to use any entities/tables from the existing database for helping with the extension/integration.</h3>

<br>

<h4>i) Create a conceptual model for the above requirements and show your model as an EER diagram using the UML notation. (4)</h4>

<p>
<div style='padding-left: 30pt'>
Just an extension of part c with an extra table
</div>
</p>

<br>

<h4>ii) Transform the conceptual EER model from above into a set of relations, explaining in detail the steps you have followed. (4)</h4>

<p>
<div style='padding-left: 30pt'>
Same as question 2 of the second assignment
</div>
</p>

<br>

<h2>2)  Please answer all the items in this section.</h2>

<br>
<br>

<h3>(a) In relation to database systems:</h3>

<br>

<h4>i. Explain the main steps involved in connecting to and querying a database from an application developed in PHP. (3)</h4>

<p>
<div style='padding-left: 30pt'>
Conect to database using server address, username, password and port<br>
Select database<br>
Query database<br>
Assing result to a variable<br>
Process results 
</div>
</p>

<br>

<h4>ii. In the context of transaction management, explain what is meant by the term ‘two-phase locking’. (4)</h4>

<p>
<div style='padding-left: 30pt'>
The transaction locks data that it is using and then releases the data when it is done with it.
</div>
</p>

<br>

<h4>iii. Explain how views and privileges help you to achieve fine grain access control over data in database tables. (4)</h4>

<p>
<div style='padding-left: 30pt'>
By creating views it makes it much easier for users to access data without having to recreate queries every time <br>
with privileges you can access a database but not edit it. This way you can be sure that a user does not alter data which they should not.
</div>
</p>

<br>

<h3>(b) In SQL, give one example of a Data Control Language (DCL) statement (use the Employee table if you need to refer to a table in your answer). (1)</h3>

<p>
<div style='padding-left: 30pt'>
Grant all in databaseName.Employee to "username"@"domainName" 
</div>
</p>

<br>

<h3>(c) Write an SQL statement to update the salary of employees working in the production department by £1500. (2)</h3>

<p>
<div style='padding-left: 30pt'>
update Employee set salary = salary + 1500 <br>
where department = production
</div>
</p>

<br>
<br>

<h3>(d) Write an SQL statement to change the Employee table by adding a new column representing date of birth of employees. You can set the column (field) data type to be CHAR type. (2)</h3>

<p>
<div style='padding-left: 30pt'>
alter table Employee add DOB CHAR
</div>
</p>

<br>

<h3>(e) Write an SQL query to show the first and last names of those employees who have dependents and also show the number of dependents for each of these employees. Sort the list in the alphabetical order of employee first name and last name. (5)</h3>

<br>

<p>
<div style='padding-left: 30pt'>
//not my code<br>
select fname,lname, count(dependants) as dcount<br>
from employees, dependants<br>
where employee.nino = dependant.nino<br>
group by dependants <br>
sort by fname,lname DESC
</div>
</p>

<br>

<h3>(f) Write an SQL query to show the names of employees and the names of the projects each of them works on and the total number of hours each of them spends on each of the projects. (4)</h3>

<p>
<div style='padding-left: 30pt'>
select fname, lname, hours, pname<br>
from employee, works_on, project<br>
where works_on.nino = employee.nino<br>
AND works_on.pno = project.pno
</div>
</p>

<br>
<br>

<h2>3. Answer all items to the following question.</h2>

<br>
<br>

<h3>(a) In relation to relational databases:</h3>

<br>

<h4>i) Briefly explain the major steps involved in relational database query processing. (3)</h4>

<p>
<div style='padding-left: 30pt'>
Syntax Analysis<br>
Normalisation<br>
Query optimisation<br>
Semantic analysis<br>
Create Query execution plans<br>
Execute query and return result to client
</div>
</p>

<br>

<h4>ii) Explain how relational algebra trees (RATs) are used in query optimisation. (2)</h4>

<p>
<div style='padding-left: 30pt'>
Using heuristics the RDBMS creates many RATs and selects the quickest option
</div>
</p>

<br>

<h4>(b) In relation to implementing secure database transactions over the internet, briefly explain the purpose of using (i) public key / private key encryption, (ii) digital signatures, and (iii) digital certificates. (3)</h4>

<br>

<p>
<div style='padding-left: 30pt'>
i) Public private key encryption ensures that the only person who can view something encrypted with a public key is the person with the private key. It also ensures the authentisity of a file since if it was encrypted with the private key then it can be decrypted by the public key. (this way you know the holder of the private key encrypted it) <br>
ii) digital signitures are used to authenticate where a message came from<br>
iii) digital certificates are essentially the public key used by the client side
</div>
</p>

<br>

<h4>(c) In relational databases:</h4>

<br>

<h5>i) What is an index? (1)</h5>

<p>
<div style='padding-left: 30pt'>
An index is like the appendix in a book where in a book it refers to chapters in databases it refers to entries
</div>
</p>

<br>

<h5>ii) Using the Department table as an example, show how indexing works. (2)</h5>

<p>
<div style='padding-left: 30pt'>
With dno as the primary key index 3 refers to the  row 3, production, JB36910
</div>
</p>

<br>

<h4>(d) Consider the following SQL query which refers to the Department and Employee tables given for this exam paper:</h4>

<p>
SELECT D.Dname<br>
FROM Employee E, Department D<br>
WHERE E.Dno = D.Dno<br>
AND E.Lname='Smith'<br>
AND E.Fname='John';
</p>

<p>
Write down three different but logically equivalent ways of expressing the above query in relational algebra, using the relational algebra notation (∏ for projection, σ P for selection with predicate P, × for a Cartesian product, for a natural join, and for conjunction). In your answers, use the given table aliases for brevity, use brackets as necessary to avoid ambiguities, and label your answers A, B and C. (6)
</p>

<p>
A) π E.Lname = 'Smith' Λ E.Fname = 'John' σ D.Dname (Employee {NATURAL JOIN SYMBOL} Department)<br>
B) π E.Lname = 'Smith' Λ E.Fname = 'John' σ (Employees) {NATURAL JOIN SYMBOL} σ (Department)<br>
C) π E.Lname = 'Smith' Λ E.Fname = 'John' ^ E.Dno = D.Dno σ D.Dname (Employee x Department)
</p>

<h4>(e) In the SQL query given above, suppose the Department and Employees tables have many rows but no indexes. Arrange your solutions (A, B, C) from question 3. (d) in order of efficiency (where A is the most efficient and C is the least efficient) and justify your answer. (3)</h4>

<br>

<p>
A, B, C
</p>

<p>
A is the most efficient because it uses a natural join first so the rest of the checks it performs are all needed C is the slowest because it performs many checks it performs for the name may be useless since the entries might not even have a department.
</p>

<h4>(f) Consider the following B+ tree</h4>

<p>
<img src="./2015/pasted_image.png">
</p>

<p>
Draw the tree after a new record, whose search key field value of 14, is inserted into the tree. (5)
</p>


			<br>
			<span class="backlinks">
			</span>

			
		</div>
	</div>
</body>
</html>

